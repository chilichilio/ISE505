install.packages("arules")
library(arules)
a = apriori(cg17_dm)
# inspect(a), it freezes every time I run this, skip this
# things on the left side of the "=>" sign will be likely to occur with things on the right side
# the last number counting how many times this association role happen across this dataset
# association rule mining: the result give variables even when responses are set to "0"
# in market basket analysis, we only care about things occuring together
# set parameters to eliminate these not occuring together
# several parameters we want to specify, so we make a list
# default confidence is 0.8, we want it to be "0.5", minlen to "2" (so either side of the "=>" won't be empty, maxlen is the sum of total 14 health variables and one sexual response, so maxlen = "15"
# maxtime: specify if it's taking too long to load, just finish the command
a1 = apriori(cg17_dm, parameter = list(confidence = 0.5, minlen = 2, maxlen = 15, maxtime = 0, target = "rules"))
# set our rules to contain variables where their reponse == "1"
#market basket analysis, we'll eliminate all the variables appear to be "0"
# list(none = c(...)): list all except the combination of the c()
mba = apriori(cg17_dm, parameter = list(confidence = 0.5, minlen = 2, maxlen = 15, maxtime = 0, target = "rules"), appearance = list(none = c("DEAF=0", "BPHIGH4=0", "DIABETE3=0", "CHCKIDNY=0", "ASTHMA3=0", "HAVARTH3=0", "CVDCRHD4=0", "CVDINFR4=0", "CVDSTRK3=0", "CHCCOPD1=0", "CHCOCNCR=0", "BLIND=0", "X_RFBMI5=0", "X_RFSMOK3=0")), control=list(memopt=TRUE, load=FALSE))
inspect(mba)
